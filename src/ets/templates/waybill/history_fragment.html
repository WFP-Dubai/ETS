{% load i18n %}

<table cellpadding="0" cellspacing="0" border="0" class="display" class='history_log'>
  <thead>
    <tr>
      {% block history_heading_first %}<th>{% trans "User" %}</th>{% endblock %}
      <th>{% trans "Action" %}</th>
      <th>{% trans "Time" %}</th>
      <th>{% trans "Changes" %}</th>
    </tr>
  </thead>
  <tbody>
    {% for first_col, action_type, action_date, changes in history_list %}
      <tr>
          {% block history_first_col %}<td>{% if first_col %}{{ first_col }}{% else %}{% trans "System" %}{% endif %}</td>{% endblock %}
          <td>{{ action_type }}</td>
          <td>{{ action_date|date:"DATETIME_FORMAT"|upper }}</td>
          <td>
            {% for key, field in changes %}
              {{ key }}: &quot;{{ field }}&quot;{% if not forloop.last %},{% endif %}
            {% endfor %}
          </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
