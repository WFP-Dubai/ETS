{% extends "base_template.html"%}
{% load i18n %}
{%block content %}
<table cellpadding="0" cellspacing="0" border="0" class="display" id="example">
    <thead>
        <tr>
             <th>{% trans "LTI" %}</th>
             <th>{% trans "Waybill Number" %}</th>
             <th>{% trans "Origin" %}</th>
             <th>{% trans "Consignee" %}</th>
             <th>{% trans "Delivery Location" %}</th>
             <th>{% trans "Dispatch" %}</th>
             <th>{% trans "Validated" %}</th>
             <th>{% trans "Received" %}</th>
             <th>{% trans "Validated" %}</th>
             <th>&nbsp;</th>
        </tr>
    </thead>
{% for waybill in waybill_list%}
     <tr>
                 <td>{{waybill.ltiNumber}}</td>
                 <td>{{waybill.waybillNumber}}</td>
                 <td>{{waybill.loading_details.select_related.0.siNo.origin_loc_name}}</td>
                 <td>{{waybill.loading_details.select_related.0.siNo.consegnee_name}}</td>
                 <td>{{waybill.loading_details.select_related.0.siNo.destination_loc_name}}</td>
                 <td>{%if waybill.dispatcherSigned%}{{waybill.transportDispachSignedTimestamp|date:"Y/m/d"}}{%else%}{% trans "Pending" %}{%endif%}</td>
                   
                 <td>{%if waybill.waybillValidated%}{% trans "Y" %}{%else%}{% trans "N" %}{%endif%}  </td>
                 <td>{%if waybill.recipientSigned%}{{waybill.recipientSignedTimestamp|date:"Y/m/d"}}{%else%}{% trans "Pending" %}{%endif%}</td>
                 <td>{%if waybill.waybillReceiptValidated%}{% trans "Y" %}{%else%}{% trans "N" %}{%endif%}  </td>
                 <td>{%if not user.get_profile.superUser%}
                 <a href='{% if  user.get_profile.isDispatcher %}{% url waybill_view waybill.id %} {%else%}{% url waybill_view_reception waybill.id %}{%endif%}'>{% trans "View WB" %}</a>{%endif%}
             {%if user.get_profile.superUser%} <a href='{% url waybill_validate_form_update waybill.id %}'>{% trans "Edit" %}</a>{%endif%}</td>

     </tr>
{% endfor%}
</table>

{%endblock%}

{%block extra-header%}
<script charset="utf-8">
$(document).ready(function() {
                $('#example').dataTable( {
                                "aoColumns": [
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    null,
                                    { "bSearchable": false}
                        
                                ]
                            });
} );
</script>
{%endblock extra-header%}